# Кости

Давайте напишем приложение, которе будет имитировать игральные кости. Сформулируем основные возможности нашего приложения:

1. Перед тем как выкинуть число, пользователь должен сделать выбор, на какое число он ставит (от 1 до 6).
2. У пользователя должна быть возможность выкинуть кости и увидеть, на каком числе они остановились.
3. Кости должны равновероятно выдавать число от 1 до 6.
4. Если пользователь правильно угадал число, то ему добавляется 10 очков.

# Бизнес логика

Будем ли мы заниматься бизнесом? Увы, но нет. Будем ли изучать логику? Тоже нет. Будем ли опять писать код? Так точно!
Бизнес логикой называют основную логику/правила приложения, как например `Кости должны равновероятно выдавать число от 1 до 6`.

Весь код мы будем писать в нашем основном классе _MainActivity_. Откроем его.

Первое, что нам нужно написать — функция, которая будет симулировать бросок игральных костей и выдавать случайное число от 1 до 6.

В Котлине есть возможность создать __диапазон__ (_range_) следующим образом

```kotlin
val r = (1..10)
```

Диапазон можно использовать, чтобы упростить запись вычисления, находится ли определённое число в заданном диапазоне. Например:

```kotlin
val myRange = (1..10)
val myInt = 5

if (myInt in myRange) {
    println("In range!")
}
```

Но на данный момент нас интересует другая возможность диапазонов — выбрать случайное (рандомное) значение из заданного диапазона.

```kotlin
val myRange = (1..10)
val random = myRange.random()
```

Напишите функцию в классе, которая будет результатом своей работы возвращать случайное число от 1 до 6.

<details>
<summary><b>Решение</b></summary>

```kotlin
class MainActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
    }

    fun rollDice(): Int {
        val range = (1..6)
        return range.random()
    }
}

```

</details>

Далее нам надо подготовить функцию, которая будет определять, угадал ли число пользователь, и, если угадал, добавлять ему баллы.

Попробуйте самостоятельно написать необходимый код.

__Подсказка:__ мы должны хранить кол-во очков пользователя в поле класса, а сам метод должен принимать на вход число, выпавшее на костях и
число, которе ввел пользователь.

<details>
<summary><b>Решение</b></summary>

```kotlin
class MainActivity : AppCompatActivity() {

    var points = 0

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
    }

    fun addPointsIfGuessed(dice: Int, guess: Int) {
        if (dice == guess) {
            points += 10
        }
    }

    fun rollDice(): Int {
        val range = (1..6)
        return range.random()
    }
}
```

> Запись `points += 10` эквивалентна `points = points + 10`. То же касается и операторов `-`, `*`, `/`

</details>

Отлично, бизнес логику мы подготовили. Теперь давайте займемся тем, что будет показано на экране.

## Layout-им

Откройте файл `activity_main.xml`. Убедитесь, что таб в левом правом углу стоит на __Design__.

1. Нам нужно отображать какое значение выпало на костях. Для этого воспользуемся текстом, который уже присутствует на экране. Поменяем текст на `1` (в качестве начального значения кубика). 

![](res/rec1.mov)
